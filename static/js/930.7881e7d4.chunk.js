"use strict";(self.webpackChunkhk_independent_bus_eta=self.webpackChunkhk_independent_bus_eta||[]).push([[930],{4930:(e,s,n)=>{n.r(s),n.d(s,{default:()=>as});var t=n(7313),r=n(6060),a=n(501),i=n(1113),o=n(8310),l=n(9840),c=n(2600),d=n(8119),x=n(3213),p=n(9536),h=n(7216),j=n(1422),Z=n(2270),u=n(8989),g=n(2965),m=n(3679),b=n(6043),y=n(4597),k=n(4905),f=n(6395),v=n(2090),C=n(6857),w=n(2444),P=n(4920),S=n(7018),z=n(8862),A=n(4047),D=n(1491),E=n(7747),M=n(2150),T=n(5136),H=n(5765),_=n(5047),O=n(282),I=n(4511),R=n(5823),B=n(4469),F=n(3604),L=n(6467),$=n(8485),W=n(5280),G=n(7829),K=n(5947),N=n(8210),Y=n(6417);const U={width:"100%",height:"fit-content",display:"flex",flexDirection:"column",justifyContent:"space-between"},V={backgroundColor:e=>"dark"===e.palette.mode?e.palette.background.default:e.palette.primary.main,color:e=>"dark"===e.palette.mode?e.palette.primary.main:e.palette.text.primary},q={padding:"10px 0px"},J={minHeight:"36px","& .MuiTab-root":{paddingTop:0,paddingBottom:0,minHeight:"32px","&.Mui-selected":{color:e=>"dark"===e.palette.mode?e.palette.primary.main:"black"}},"& .MuiTabs-indicator":{backgroundColor:e=>"dark"===e.palette.mode?e.palette.primary.main:"black"}},Q={py:3,"& div":{width:120,cursor:"pointer"},"& img":{maxWidth:"100%",height:"auto"}},X=e=>{let{open:s,handleClose:n}=e;const{t:r}=(0,I.$)(),[a,o]=(0,t.useState)("App");return(0,Y.jsxs)(B.Z,{open:s,onClose:n,PaperProps:{sx:U},children:[(0,Y.jsx)(F.Z,{sx:V,children:r("\u5b89\u88dd\u6b65\u9a5f")}),(0,Y.jsxs)(L.Z,{children:[(0,Y.jsxs)($.Z,{value:a,onChange:(e,s)=>o(s),sx:J,children:[(0,Y.jsx)(W.Z,{value:"App",label:"App"}),(0,Y.jsx)(W.Z,{value:"PWA",label:"PWA"})]}),"App"===a&&(0,Y.jsxs)(G.Z,{sx:Q,children:[(0,Y.jsx)(G.Z,{onClick:()=>window.open("https://play.google.com/store/apps/details?id=app.hkbus"),children:(0,Y.jsx)("img",{src:"/img/google-play-badge.png",alt:"Install via Google Play"})}),(0,Y.jsx)(G.Z,{onClick:()=>window.open("https://apps.apple.com/hk/app/%E5%B7%B4%E5%A3%AB%E5%88%B0%E7%AB%99%E9%A0%90%E5%A0%B1-hkbus-app/id1612184906"),children:(0,Y.jsx)("img",{src:"/img/app-store.svg",style:{margin:"6%",width:"88%"},alt:"Install via App Store"})})]}),"PWA"===a&&(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsxs)(G.Z,{sx:q,children:[(0,Y.jsx)(i.Z,{variant:"h5",children:"iOS:"}),(0,Y.jsx)("br",{}),(0,Y.jsxs)(i.Z,{variant:"body1",children:["1. ",r("\u7528 Safari \u958b")]}),(0,Y.jsxs)(i.Z,{variant:"body1",style:{display:"inline"},children:["2. ",r("\u5206\u4eab"),(0,Y.jsx)(K.Z,{})]}),(0,Y.jsxs)(i.Z,{variant:"body1",children:["3. ",r("\u52a0\u81f3\u4e3b\u756b\u9762")]})]}),(0,Y.jsx)(p.Z,{}),(0,Y.jsxs)(G.Z,{sx:q,children:[(0,Y.jsx)(i.Z,{variant:"h5",children:"Android:"}),(0,Y.jsx)("br",{}),(0,Y.jsxs)(i.Z,{variant:"body1",children:["1. ",r("\u7528 Chrome \u958b")]}),(0,Y.jsxs)(i.Z,{variant:"body1",style:{display:"inline"},children:["2. ",r("\u53f3\u4e0a\u9078\u9805")]}),(0,Y.jsx)(N.Z,{}),(0,Y.jsxs)(i.Z,{variant:"body1",children:["3. ",r("\u65b0\u589e\u81f3\u4e3b\u756b\u9762 / \u5b89\u88dd\u61c9\u7528\u7a0b\u5f0f")]})]})]})]})]})},ee=[{url:{zh:"https://points-media.com/supports/",en:"https://points-media.com/supports/"},description:{zh:"\u8acb\u8a02\u95b1\u300a\u68f1\u89d2\u5a92\u9ad4\u300b",en:"Please subscribe Points Media"}},{url:{zh:"https://www.inmediahk.net/supportus",en:"https://www.inmediahk.net/supportus"},description:{zh:"\u8acb\u8a02\u95b1\u300a\u7368\u7acb\u5a92\u9ad4\u300b",en:"Please subscribe inmediahk.net"}},{url:{zh:"https://hkfeature.com/%E5%8A%A0%E5%85%A5%E6%9C%83%E5%93%A1/",en:"https://hkfeature.com/%E5%8A%A0%E5%85%A5%E6%9C%83%E5%93%A1/"},description:{zh:"\u8acb\u8a02\u95b1\u300a\u8a8c\u300b",en:"Please subscribe HK Feature"}},{url:{zh:"https://support.hongkongfp.com/en/donations/donate/",en:"https://support.hongkongfp.com/en/donations/donate/"},description:{zh:"\u8acb\u6350\u6b3e\u5230\u300a\u9999\u6e2f\u81ea\u7531\u65b0\u805e\u300b",en:"Please donate to Hong Kong Free Press"}},{url:{zh:"https://thewitnesshk.com/subscription/",en:"https://thewitnesshk.com/subscription/"},description:{zh:"\u8acb\u8a02\u95b1\u300a\u6cd5\u5ead\u7dda\u300b",en:"Please subscribe The Witness"}},{url:{zh:"https://www.patreon.com/factchecklab",en:"https://www.patreon.com/factchecklab"},description:{zh:"\u8acb\u6350\u6b3e\u5230\u300a\u4e8b\u5be6\u67e5\u6838\u5be6\u9a57\u5ba4\u300b",en:"Please subscribe Factcheck Lab"}},{url:{zh:"https://www.swallowlife.org/plans-pricing",en:"https://www.swallowlife.org/plans-pricing"},description:{zh:"\u8acb\u300a\u71d5\u5b50\u751f\u547d\u300b\u98f2\u5496\u5561",en:"Buy SwallowLife a coffee"}},{url:{zh:"https://www.patreon.com/hkbus",en:"https://www.patreon.com/hkbus"},description:{zh:"\u6490 HKBUS.APP",en:"Support us"}},{url:{zh:"https://channelchk.com/plan",en:"https://channelchk.com/plan"},description:{zh:"Channel C HK",en:"Channel C HK"}},{url:{zh:"https://photonmedia.net/subscribe",en:"https://photonmedia.net/subscribe"},description:{zh:"\u8acb\u8a02\u95b1\u300a\u5149\u50b3\u5a92\u300b",en:"Please subscribe the Photon Media"}},{url:{zh:"https://wavezinehk.com/%e8%a8%82%e9%96%b1%e6%94%af%e6%8c%81",en:"https://wavezinehk.com/%e8%a8%82%e9%96%b1%e6%94%af%e6%8c%81"},description:{zh:"\u8acb\u8a02\u95b1\u300aWave. \u6d41\u884c\u6587\u5316\u8a8c\u300b",en:"Please subscribe the Wave."}},{url:{zh:"https://thecollectivehk.com/subscribe",en:"https://thecollectivehk.com/subscribe"},description:{zh:"\u8acb\u8a02\u95b1\u300a\u96c6\u8a8c\u793e\u300b",en:"Please subscribe The Collective"}},{url:{zh:"https://linktr.ee/hkcourtnews",en:"https://linktr.ee/hkcourtnews"},description:{zh:"\u8acb\u8a02\u95b1\u300a\u5ead\u520a\u300b",en:"Please subscribe The HK Court News"}}];var se=n(7131),ne=n(268),te=n(8586),re=n(3318),ae=n(4286),ie=n(9590),oe=n(8535),le=n(5846),ce=n(2979),de=n(6534),xe=n(9704),pe=n(1906),he=n(2900),je=n(9908),Ze=n(463),ue=n(1442),ge=n(6116),me=n(8384),be=n(5473),ye=n(9396),ke=n(7141),fe=n(2690),ve=n(6580),Ce=n(4481),we=n(9563);const Pe=()=>{const{fontSize:e,setFontSize:s}=(0,t.useContext)(r.ZP),{t:n}=(0,I.$)(),[a,o]=(0,t.useState)(e),l=(0,t.useRef)(a);return(0,t.useEffect)((()=>()=>{s(l.current)}),[s]),(0,Y.jsx)(x.Z,{primary:(0,Y.jsx)(i.Z,{sx:{fontSize:a},children:n("\u5b57\u9ad4\u5927\u5c0f")}),secondary:(0,Y.jsx)(re.ZP,{step:2,min:10,max:26,value:a,valueLabelDisplay:"auto",size:"small",onChange:(e,s)=>{o(s),l.current=s}})})},Se=e=>{let{goToTab:s}=e;const{resetUsageRecord:n,isRouteFilter:a,toggleRouteFilter:i,busSortOrder:j,toggleBusSortOrder:Z,numPadOrder:u,toggleNumPadOrder:g,etaFormat:m,toggleEtaFormat:b,_colorMode:y,toggleColorMode:k,energyMode:f,toggleEnergyMode:v,vibrateDuration:C,toggleVibrateDuration:w,refreshInterval:P,updateRefreshInterval:S,annotateScheduled:z,toggleAnnotateScheduled:A,isRecentSearchShown:D,toggleIsRecentSearchShown:E}=(0,t.useContext)(r.ZP),{t:M}=(0,I.$)();return(0,Y.jsxs)(o.Z,{sx:ze,children:[(0,Y.jsxs)(l.Z,{onClick:()=>{(0,R.tp)(C),s("manage")},children:[(0,Y.jsx)(c.Z,{children:(0,Y.jsx)(d.Z,{children:(0,Y.jsx)(ae.Z,{})})}),(0,Y.jsx)(x.Z,{primary:M("\u7ba1\u7406\u6536\u85cf")})]}),(0,Y.jsxs)(l.Z,{onClick:()=>{(0,R.tp)(C),i()},children:[(0,Y.jsx)(c.Z,{children:(0,Y.jsx)(d.Z,{children:a?(0,Y.jsx)(ie.Z,{}):(0,Y.jsx)(oe.Z,{})})}),(0,Y.jsx)(x.Z,{primary:M("\u8def\u7dda\u7be9\u9078"),secondary:M(a?"\u53ea\u986f\u793a\u73fe\u6642\u8def\u7dda":"\u986f\u793a\u6240\u6709\u8def\u7dda")})]}),(0,Y.jsxs)(l.Z,{onClick:()=>{(0,R.tp)(C),Z()},children:[(0,Y.jsx)(c.Z,{children:(0,Y.jsx)(d.Z,{children:(0,Y.jsx)(le.Z,{})})}),(0,Y.jsx)(x.Z,{primary:M("\u5df4\u58eb\u6392\u5e8f"),secondary:M(j)})]}),(0,Y.jsxs)(l.Z,{onClick:()=>{},children:[(0,Y.jsx)(c.Z,{children:(0,Y.jsx)(d.Z,{children:(0,Y.jsx)(ce.Z,{})})}),(0,Y.jsx)(x.Z,{primary:M("\u66f4\u65b0\u983b\u7387"),secondary:(0,Y.jsx)(re.ZP,{step:1,min:5,max:60,value:P/1e3,valueLabelDisplay:"auto",size:"small",valueLabelFormat:e=>"".concat(e,"s"),onChange:(e,s)=>S(1e3*s)})})]}),(0,Y.jsx)(p.Z,{}),(0,Y.jsxs)(l.Z,{onClick:()=>{(0,R.tp)(C),k()},children:[(0,Y.jsx)(c.Z,{children:(0,Y.jsxs)(d.Z,{children:["system"===y&&(0,Y.jsx)(de.Z,{}),"light"===y&&(0,Y.jsx)(xe.Z,{}),"dark"===y&&(0,Y.jsx)(pe.Z,{})]})}),(0,Y.jsx)(x.Z,{primary:M("\u5916\u89c0"),secondary:M("color-".concat(y))})]}),(0,Y.jsxs)(h.ZP,{children:[(0,Y.jsx)(c.Z,{children:(0,Y.jsx)(d.Z,{children:(0,Y.jsx)(he.Z,{})})}),(0,Y.jsx)(Pe,{})]}),(0,Y.jsxs)(l.Z,{onClick:()=>{(0,R.tp)(C),g()},children:[(0,Y.jsx)(c.Z,{children:(0,Y.jsx)(d.Z,{children:"1"===u[0]?(0,Y.jsx)(je.Z,{}):(0,Y.jsx)(Ze.Z,{})})}),(0,Y.jsx)(x.Z,{primary:M("\u9375\u76e4\u683c\u5f0f"),secondary:u})]}),(0,Y.jsxs)(l.Z,{onClick:()=>{(0,R.tp)(C),b()},children:[(0,Y.jsx)(c.Z,{children:(0,Y.jsx)(d.Z,{children:(0,Y.jsx)(ue.Z,{})})}),(0,Y.jsx)(x.Z,{primary:M("\u5831\u6642\u683c\u5f0f"),secondary:M(we.xV[m])})]}),(0,Y.jsxs)(l.Z,{onClick:()=>{(0,R.tp)(C),A()},children:[(0,Y.jsx)(c.Z,{children:(0,Y.jsx)(d.Z,{children:(0,Y.jsx)(ge.Z,{})})}),(0,Y.jsx)(x.Z,{primary:M("\u6ce8\u91cb\u9810\u5b9a\u73ed\u6b21"),secondary:M(z?"\u958b\u555f":"\u95dc\u9589")})]}),(0,Y.jsxs)(l.Z,{onClick:()=>{(0,R.tp)(C),v()},children:[(0,Y.jsx)(c.Z,{children:(0,Y.jsx)(d.Z,{children:f?(0,Y.jsx)(me.Z,{}):(0,Y.jsx)(be.Z,{})})}),(0,Y.jsx)(x.Z,{primary:M("\u7701\u96fb\u6a21\u5f0f"),secondary:M(f?"\u95dc\u9589\u5730\u5716\u529f\u80fd":"\u958b\u555f\u5730\u5716\u529f\u80fd")})]}),(0,Y.jsxs)(l.Z,{onClick:()=>{(0,R.tp)(1^C),E()},children:[(0,Y.jsx)(c.Z,{children:(0,Y.jsx)(d.Z,{children:D?(0,Y.jsx)(ye.Z,{}):(0,Y.jsx)(ke.Z,{})})}),(0,Y.jsx)(x.Z,{primary:M("\u641c\u5c0b\u8a18\u9304"),secondary:M(D?"\u958b\u555f":"\u95dc\u9589")})]}),(0,Y.jsxs)(l.Z,{onClick:()=>{(0,R.tp)(1^C),w()},children:[(0,Y.jsx)(c.Z,{children:(0,Y.jsx)(d.Z,{children:C?(0,Y.jsx)(fe.Z,{}):(0,Y.jsx)(ve.Z,{})})}),(0,Y.jsx)(x.Z,{primary:M("\u6309\u9375\u9707\u52d5"),secondary:M(C?"\u958b\u555f":"\u95dc\u9589")})]}),(0,Y.jsx)(p.Z,{}),(0,Y.jsxs)(l.Z,{onClick:()=>{(0,R.tp)(C),n()},children:[(0,Y.jsx)(c.Z,{children:(0,Y.jsx)(d.Z,{children:(0,Y.jsx)(Ce.Z,{})})}),(0,Y.jsx)(x.Z,{primary:M("\u4e00\u9375\u6e05\u7a7a\u7528\u6236\u8a18\u9304"),secondary:M("\u5305\u62ec\u9396\u5b9a\u548c\u5e38\u7528\u5831\u6642")})]})]})},ze={"& .MuiAvatar-colorDefault":{color:e=>"dark"===e.palette.mode?e.palette.background.default:"white"},"& .MuiSlider-colorPrimary":{color:e=>"dark"===e.palette.mode?"rgba(255, 255, 255, 0.7)":"rgba(0, 0, 0, 0.6)"},overflow:"scroll"};var Ae=n(8770),De=n(3789),Ee=n(1143),Me=n(6482),Te=n(8967),He=n(1757);const _e=e=>{let{children:s,...n}=e;const[r,a]=(0,t.useState)(!1);return(0,t.useEffect)((()=>{const e=requestAnimationFrame((()=>a(!0)));return()=>{cancelAnimationFrame(e),a(!1)}}),[]),r?(0,Y.jsx)(He.bK,{...n,children:s}):null};var Oe=n(1660);const Ie=e=>{let{mode:s}=e;const{db:{routeList:n},savedEtas:a,setSavedEtas:o,updateSavedEtas:l}=(0,t.useContext)(r.ZP),[c,d]=(0,t.useState)(a.filter((e=>e.split("/")[0]in n)).reverse()),{t:x}=(0,I.$)(),p=(0,t.useCallback)((e=>{let{destination:s,source:n}=e;if(!s)return;const t=(0,R.HP)(c,n.index,s.index);d(t),o(Array.from(t).reverse())}),[c,o]),h=(0,t.useCallback)((e=>{l(e),d((s=>s.filter((s=>s!==e))))}),[l]);return(0,Y.jsx)(He.Z5,{onDragEnd:p,children:(0,Y.jsx)(_e,{droppableId:"saved-eta-list",children:e=>(0,Y.jsxs)(G.Z,{ref:e.innerRef,...e.droppableProps,sx:Be,children:[c.length?c.map(((e,n)=>(0,Y.jsx)(t.Fragment,{children:(0,Y.jsx)(Re,{item:e,index:n,mode:s,onDelete:s=>h(e)})},"savedEta-".concat(e)))):(0,Y.jsx)(i.Z,{sx:{textAlign:"center",marginTop:5},children:(0,Y.jsx)("b",{children:x("\u672a\u6709\u6536\u85cf\u8def\u7dda")})}),e.placeholder]})})})},Re=e=>{let{item:s,index:n,mode:t,onDelete:r}=e;return(0,Y.jsx)(He._l,{draggableId:s,index:n,isDragDisabled:"order"!==t,children:e=>(0,Y.jsx)(G.Z,{ref:e.innerRef,...e.draggableProps,...e.dragHandleProps,sx:Fe,children:(0,Y.jsx)(Oe.Z,{routeId:s,mode:t,onDelete:r})})})},Be={p:1,overflowY:"scroll"},Fe={px:2,py:1,boxShadow:"2px 2px 2px 1px rgba(0, 0, 0, 0.1)",display:"flex"};var Le=n(2066);const $e=e=>{let{mode:s}=e;const{collections:n,setCollections:a,toggleCollectionDialog:o}=(0,t.useContext)(r.ZP),[l,c]=(0,t.useState)(n),{t:d}=(0,I.$)(),x=(0,t.useCallback)((e=>{let{destination:s,source:n}=e;if(!s)return;const t=(0,R.HP)(l,n.index,s.index);a(t)}),[l,a]),p=(0,t.useCallback)((e=>{o(e)}),[o]);return(0,t.useEffect)((()=>{c(n)}),[n]),(0,Y.jsx)(He.Z5,{onDragEnd:x,children:(0,Y.jsx)(_e,{droppableId:"saved-eta-list",children:e=>(0,Y.jsxs)(G.Z,{ref:e.innerRef,...e.droppableProps,sx:Ge,children:[l.length?l.map(((e,n)=>(0,Y.jsx)(We,{item:e,index:n,t:d,mode:s,onDelete:()=>p(n)},"collection-".concat(e.name)))):(0,Y.jsx)(i.Z,{sx:{textAlign:"center",marginTop:5},children:(0,Y.jsx)("b",{children:d("\u672a\u6709\u6536\u85cf\u3002")})}),e.placeholder]})})})},We=e=>{let{item:{name:s,list:n},index:t,t:r,mode:a,onDelete:o}=e;return(0,Y.jsx)(He._l,{draggableId:s,index:t,isDragDisabled:"order"!==a,children:e=>(0,Y.jsxs)(G.Z,{ref:e.innerRef,...e.draggableProps,...e.dragHandleProps,sx:Ke,children:[(0,Y.jsxs)(G.Z,{children:[(0,Y.jsx)(i.Z,{variant:"body1",children:s}),(0,Y.jsxs)(i.Z,{variant:"caption",children:[r("Number of ETAs: "),n.length]})]}),"order"===a&&(0,Y.jsx)(Le.Z,{}),"delete"===a&&(0,Y.jsx)(se.Z,{onClick:o,children:(0,Y.jsx)(Te.Z,{})})]})})},Ge={p:1,overflowY:"scroll"},Ke={px:2,py:1,display:"flex",justifyContent:"space-between",alignItems:"center",boxShadow:"2px 2px 2px 1px rgba(0, 0, 0, 0.1)"},Ne=e=>{let{mode:s}=e;const{db:{stopList:n},savedStops:a,setSavedStops:o,updateSavedStops:l}=(0,t.useContext)(r.ZP),[c,d]=(0,t.useState)(a.filter((e=>e.split("|")[1]in n)).reverse()),{t:x}=(0,I.$)(),p=(0,t.useCallback)((e=>{let{destination:s,source:n}=e;if(!s)return;const t=(0,R.HP)(c,n.index,s.index);d(t),o(Array.from(t).reverse())}),[c,d,o]),h=(0,t.useCallback)((e=>{l(e),d((s=>s.filter((s=>s!==e))))}),[l]);return(0,Y.jsx)(He.Z5,{onDragEnd:p,children:(0,Y.jsx)(_e,{droppableId:"saved-stop-list",children:e=>(0,Y.jsxs)(G.Z,{ref:e.innerRef,...e.droppableProps,sx:Ue,children:[c.length?c.map(((e,n)=>(0,Y.jsx)(Ye,{item:e,index:n,mode:s,onDelete:()=>h(e)},"savedStop-".concat(e)))):(0,Y.jsx)(i.Z,{sx:{textAlign:"center",marginTop:5},children:(0,Y.jsx)("b",{children:x("\u672a\u6709\u6536\u85cf\u8eca\u7ad9")})}),e.placeholder]})})})},Ye=e=>{let{item:s,index:n,mode:a,onDelete:o}=e;const{db:{stopList:l}}=(0,t.useContext)(r.ZP),[,c]=s.split("|"),{i18n:{language:d}}=(0,I.$)();return(0,Y.jsx)(He._l,{draggableId:s,index:n,isDragDisabled:"order"!==a,children:e=>{var s;return(0,Y.jsxs)(G.Z,{ref:e.innerRef,...e.draggableProps,...e.dragHandleProps,sx:Ve,children:[(0,Y.jsx)(G.Z,{children:(0,Y.jsx)(i.Z,{variant:"body1",children:null===(s=l[c])||void 0===s?void 0:s.name[d]})}),"order"===a&&(0,Y.jsx)(Le.Z,{}),"delete"===a&&(0,Y.jsx)(se.Z,{onClick:o,children:(0,Y.jsx)(Me.Z,{})})]})}})},Ue={p:1,overflowY:"scroll"},Ve={px:2,py:2,boxShadow:"2px 2px 2px 1px rgba(0, 0, 0, 0.1)",display:"flex",justifyContent:"space-between"},qe=()=>{const[e,s]=(0,t.useState)("savedOrder"),[n,r]=(0,t.useState)("order"),{t:a}=(0,I.$)();return(0,Y.jsxs)(G.Z,{sx:Je,children:[(0,Y.jsxs)(G.Z,{sx:Qe,children:[(0,Y.jsxs)($.Z,{value:e,onChange:(e,n)=>s(n),sx:Xe,variant:"scrollable",scrollButtons:!0,children:[(0,Y.jsx)(W.Z,{value:"savedOrder",label:a("\u5e38\u7528\u8def\u7dda")}),(0,Y.jsx)(W.Z,{value:"collectionOrder",label:a("\u8def\u7dda\u6536\u85cf")}),(0,Y.jsx)(W.Z,{value:"stopOrder",label:a("\u8eca\u7ad9")})]}),(0,Y.jsxs)(Ae.Z,{value:n,onChange:(e,s)=>s&&r(s),sx:{alignSelf:"flex-end"},size:"small",exclusive:!0,children:[(0,Y.jsx)(De.Z,{value:"order",children:(0,Y.jsx)(Ee.Z,{sx:{transform:"rotate(90deg)"},fontSize:"small"})}),(0,Y.jsxs)(De.Z,{value:"delete",children:["collectionOrder"!==e&&(0,Y.jsx)(Me.Z,{fontSize:"small"}),"collectionOrder"===e&&(0,Y.jsx)(Te.Z,{fontSize:"small"})]})]})]}),"savedOrder"===e&&(0,Y.jsx)(Ie,{mode:n}),"collectionOrder"===e&&(0,Y.jsx)($e,{mode:n}),"stopOrder"===e&&(0,Y.jsx)(Ne,{mode:n})]})},Je={display:"flex",flexDirection:"column",px:1,overflow:"hidden"},Qe={display:"flex",justifyContent:"space-between",py:1},Xe={minHeight:"36px","& .MuiTab-root":{alignItems:"center",justifyContent:"center",paddingTop:0,paddingBottom:0,minHeight:"32px","&.Mui-selected":{color:e=>"dark"===e.palette.mode?e.palette.primary.main:"black"}},"& .MuiTabs-flexContainer":{justifyContent:"flex-start"},"& .MuiTabs-indicator":{backgroundColor:e=>"dark"===e.palette.mode?e.palette.primary.main:"black"}},es=e=>{let{open:s,onClose:n}=e;const[r,a]=(0,t.useState)("options"),{t:i}=(0,I.$)(),o=()=>{n(),a("options")};return(0,Y.jsxs)(B.Z,{PaperProps:{sx:ss},open:s,onClose:o,maxWidth:"xs",fullWidth:!0,children:[(0,Y.jsxs)(F.Z,{sx:ns,children:[(0,Y.jsxs)(G.Z,{sx:{display:"flex",alignItems:"center",gap:1},children:["options"!==r&&(0,Y.jsx)(se.Z,{onClick:()=>a("options"),children:(0,Y.jsx)(ne.Z,{})}),i("options"===r?"\u500b\u6027\u5316\u8a2d\u5b9a":""),i("manage"===r?"\u7ba1\u7406\u6536\u85cf":"")]}),(0,Y.jsx)(se.Z,{onClick:o,children:(0,Y.jsx)(te.Z,{})})]}),(0,Y.jsx)(p.Z,{}),"options"===r&&(0,Y.jsx)(Se,{goToTab:e=>a(e)}),"manage"===r&&(0,Y.jsx)(qe,{})]})},ss={height:"100%"},ns={display:"flex",justifyContent:"space-between"};var ts=n(8467),rs=n(4345);const as=()=>{const{AppTitle:e,db:{schemaVersion:s,versionMd5:n,updateTime:B},renewDb:F,autoRenew:L,toggleAutoDbRenew:$,geoPermission:W,updateGeoPermission:G,vibrateDuration:K,toggleAnalytics:N,analytics:U}=(0,t.useContext)(r.ZP),{debug:V,toggleDebug:q}=(0,t.useContext)(rs.Z),{os:J}=(0,t.useContext)(rs.Z),[Q,se]=(0,t.useState)(!1),[ne,te]=(0,t.useState)(!1),[re,ae]=(0,t.useState)(!1),[ie,oe]=(0,t.useState)(!1),[le,ce]=(0,t.useState)(!1),{t:de,i18n:xe}=(0,I.$)(),pe=(0,t.useMemo)((()=>Math.floor(Math.random()*ee.length)),[]),he="ios"===J||/iPad|iPhone|iPod|Mac/.test(navigator.userAgent),je=(0,ts.s0)();return(0,t.useEffect)((()=>{(0,R.ND)({title:de("\u8a2d\u5b9a")+" - "+de(e),description:de("setting-page-description"),lang:xe.language}),se(!1)}),[B,xe.language]),(0,Y.jsxs)(a.Z,{sx:is,square:!0,elevation:0,children:[(0,Y.jsx)(i.Z,{component:"h1",style:O.Z,children:"".concat(de("\u8a2d\u5b9a")," - ").concat(de(e))}),(0,Y.jsxs)(o.Z,{sx:{py:0},children:[!(0,R.St)()&&!(0,R.vS)()&&(0,Y.jsxs)(l.Z,{onClick:()=>{(0,R.tp)(K),setTimeout((()=>oe(!0)),0)},children:[(0,Y.jsx)(c.Z,{children:(0,Y.jsx)(d.Z,{children:(0,Y.jsx)(Z.Z,{})})}),(0,Y.jsx)(x.Z,{primary:de("\u5b89\u88dd"),secondary:de("\u5b89\u88dd\u5df4\u58eb\u9810\u5831 App \u5230\u88dd\u7f6e")})]}),(0,Y.jsxs)(l.Z,{component:"a",href:"".concat("https://github.com/organizersdb/hk-independent-bus-eta").concat("/commit/".concat("a5ef0d0")),target:"_blank",rel:"noreferrer",children:[(0,Y.jsx)(c.Z,{children:(0,Y.jsx)(d.Z,{children:(0,Y.jsx)(u.Z,{})})}),(0,Y.jsx)(x.Z,{primary:"".concat(de("\u7248\u672c"),": ").concat("11.1.0").concat(" - ".concat("a5ef0d0")),secondary:"Merge branch 'master' of https://github.com/hkbus/hk-independent-bus-eta"})]}),(0,Y.jsxs)(l.Z,{onClick:()=>{(0,R.tp)(K),se(!0),F()},children:[(0,Y.jsx)(c.Z,{children:(0,Y.jsx)(d.Z,{children:(0,Y.jsx)(g.Z,{})})}),(0,Y.jsx)(x.Z,{primary:"".concat(de("\u66f4\u65b0\u8def\u7dda\u8cc7\u6599\u5eab"),": ")+"".concat(s," - ").concat(n.slice(0,6)),secondary:de("\u66f4\u65b0\u6642\u9593")+": "+new Date(B).toLocaleString().slice(0,20).replace(","," ")})]}),(0,Y.jsx)(p.Z,{}),(0,Y.jsxs)(l.Z,{onClick:()=>{(0,R.tp)(K),"granted"===W?G("closed"):G("opening",(()=>{te(!0)}))},children:[(0,Y.jsx)(c.Z,{children:(0,Y.jsx)(d.Z,{children:"granted"===W?(0,Y.jsx)(m.Z,{}):(0,Y.jsx)(b.Z,{})})}),(0,Y.jsx)(x.Z,{primary:de("\u5730\u7406\u4f4d\u7f6e\u5b9a\u4f4d\u529f\u80fd"),secondary:de("granted"===W?"\u958b\u555f":"opening"===W?"\u958b\u555f\u4e2d...":"\u95dc\u9589")})]}),(0,Y.jsxs)(l.Z,{onClick:()=>{(0,R.tp)(K),$()},children:[(0,Y.jsx)(c.Z,{children:(0,Y.jsx)(d.Z,{children:L?(0,Y.jsx)(y.Z,{}):(0,Y.jsx)(k.Z,{})})}),(0,Y.jsx)(x.Z,{primary:de("\u81ea\u52d5\u66f4\u65b0\u8def\u7dda\u8cc7\u6599"),secondary:de(L?"\u958b\u555f":"\u95dc\u9589")})]}),(0,Y.jsxs)(l.Z,{onClick:()=>{(0,R.tp)(K),ce(!0)},children:[(0,Y.jsx)(c.Z,{children:(0,Y.jsx)(d.Z,{children:(0,Y.jsx)(f.Z,{})})}),(0,Y.jsx)(x.Z,{primary:de("\u500b\u6027\u5316\u8a2d\u5b9a"),secondary:de("\u65e5\u591c\u6a21\u5f0f\u3001\u6642\u9593\u683c\u5f0f\u3001\u8def\u7dda\u6b21\u5e8f\u7b49")})]}),(0,Y.jsxs)(l.Z,{onClick:()=>{(0,R.tp)(K),je("/".concat(xe.language,"/export"))},children:[(0,Y.jsx)(c.Z,{children:(0,Y.jsx)(d.Z,{children:(0,Y.jsx)(v.Z,{})})}),(0,Y.jsx)(x.Z,{primary:de("\u8cc7\u6599\u532f\u51fa")})]}),(0,Y.jsxs)(l.Z,{onClick:()=>{(0,R.tp)(K),je("/".concat(xe.language,"/import"))},children:[(0,Y.jsx)(c.Z,{children:(0,Y.jsx)(d.Z,{children:(0,Y.jsx)(C.Z,{})})}),(0,Y.jsx)(x.Z,{primary:de("\u8cc7\u6599\u532f\u5165")})]}),(0,Y.jsx)(p.Z,{}),(0,Y.jsxs)(l.Z,{onClick:()=>{(0,R.tp)(K),(0,R.I)("https://".concat(window.location.hostname),de("\u5df4\u58eb\u5230\u7ad9\u9810\u5831 App")).then((()=>{navigator.clipboard&&ae(!0)}))},children:[(0,Y.jsx)(c.Z,{children:(0,Y.jsx)(d.Z,{children:(0,Y.jsx)(w.Z,{})})}),(0,Y.jsx)(x.Z,{primary:de("\u8907\u88fd\u61c9\u7528\u7a0b\u5f0f\u93c8\u7d50"),secondary:de("\u7d93\u4e0d\u540c\u5a92\u4ecb\u5206\u4eab\u7d66\u89aa\u53cb")})]}),(0,Y.jsxs)(l.Z,{component:"a",href:he?"https://watch.hkbus.app/":"https://wear.hkbus.app/",target:"_blank",onClick:()=>{(0,R.tp)(K)},children:[(0,Y.jsx)(c.Z,{children:(0,Y.jsx)(d.Z,{children:(0,Y.jsx)(P.Z,{})})}),(0,Y.jsx)(x.Z,{primary:de("\u667a\u80fd\u624b\u9336\u61c9\u7528\u7a0b\u5f0f")})]}),(0,R.vS)()?(0,Y.jsxs)(l.Z,{onClick:()=>{(0,R.tp)(K),je("/".concat(xe.language,"/support"))},children:[(0,Y.jsx)(c.Z,{children:(0,Y.jsx)(d.Z,{children:(0,Y.jsx)(z.Z,{})})}),(0,Y.jsx)(x.Z,{primary:de("\u5354\u52a9"),secondary:de("\u6b61\u8fce\u610f\u898b\u53ca\u6280\u8853\u4ea4\u6d41")})]}):(0,Y.jsxs)(l.Z,{component:"a",href:"https://t.me/hkbusapp",target:"_blank",onClick:()=>{(0,R.tp)(K)},children:[(0,Y.jsx)(c.Z,{children:(0,Y.jsx)(d.Z,{children:(0,Y.jsx)(S.Z,{})})}),(0,Y.jsx)(x.Z,{primary:de("Telegram \u4ea4\u6d41\u5340"),secondary:de("\u6b61\u8fce\u610f\u898b\u53ca\u6280\u8853\u4ea4\u6d41")})]}),!(0,R.vS)()&&(0,Y.jsxs)(l.Z,{onClick:N,children:[(0,Y.jsx)(c.Z,{children:(0,Y.jsx)(d.Z,{children:(0,Y.jsx)(A.Z,{})})}),(0,Y.jsx)(x.Z,{primary:"Google Analytics",secondary:de(U?"\u958b\u555f":"\u95dc\u9589")})]}),(0,Y.jsxs)(l.Z,{component:"a",href:"https://datastudio.google.com/embed/reporting/de590428-525e-4865-9d37-a955204b807a/page/psfZC",target:"_blank",onClick:()=>{(0,R.tp)(K)},children:[(0,Y.jsx)(c.Z,{children:(0,Y.jsx)(d.Z,{children:(0,Y.jsx)(D.Z,{})})}),(0,Y.jsx)(x.Z,{primary:de("\u7d71\u8a08\u6578\u64da\u5f59\u6574"),secondary:de("\u6574\u7406\u5f9e Google \u6536\u96c6\u7684\u6578\u64da")})]}),!(0,R.vS)()&&(0,Y.jsxs)(l.Z,{component:"a",href:ee[pe].url[xe.language],target:"_blank",onClick:()=>{(0,R.tp)(K)},children:[(0,Y.jsx)(c.Z,{children:(0,Y.jsx)(d.Z,{children:(0,Y.jsx)(E.Z,{})})}),(0,Y.jsx)(x.Z,{primary:de("\u6350\u6b3e\u652f\u6301"),secondary:ee[pe].description[xe.language]})]}),(0,Y.jsx)(p.Z,{}),(0,Y.jsxs)(l.Z,{component:"a",href:"https://github.com/organizersdb/hk-independent-bus-eta",target:"_blank",onClick:()=>{(0,R.tp)(K)},children:[(0,Y.jsx)(c.Z,{children:(0,Y.jsx)(d.Z,{children:(0,Y.jsx)(M.Z,{})})}),(0,Y.jsx)(x.Z,{primary:de("Source code"),secondary:"GPL-3.0 License"})]}),(0,Y.jsxs)(l.Z,{component:"a",href:"https://instagram.com/chan_gua",target:"_blank",onClick:()=>{(0,R.tp)(K)},children:[(0,Y.jsx)(c.Z,{children:(0,Y.jsx)(d.Z,{sx:os,src:"/img/logo128.png",alt:"App Logo"})}),(0,Y.jsx)(x.Z,{primary:de("\u5716\u6a19\u4f86\u6e90"),secondary:"\u9673\u74dc Chan Gua"})]}),(0,Y.jsxs)(l.Z,{component:"a",href:"/".concat(xe.language,"/privacy"),onClick:()=>{(0,R.tp)(K)},children:[(0,Y.jsx)(c.Z,{children:(0,Y.jsx)(d.Z,{children:(0,Y.jsx)(T.Z,{})})}),(0,Y.jsx)(x.Z,{primary:de("\u96b1\u79c1\u6b0a\u8072\u660e")})]}),(0,Y.jsxs)(l.Z,{component:"a",href:"/".concat(xe.language,"/terms"),onClick:()=>{(0,R.tp)(K)},children:[(0,Y.jsx)(c.Z,{children:(0,Y.jsx)(d.Z,{children:(0,Y.jsx)(H.Z,{})})}),(0,Y.jsx)(x.Z,{primary:de("\u689d\u6b3e")})]}),(0,Y.jsxs)(h.ZP,{onClick:q,children:[(0,Y.jsx)(c.Z,{children:(0,Y.jsx)(d.Z,{children:(0,Y.jsx)(_.Z,{})})}),(0,Y.jsx)(x.Z,{primary:de("\u4ea4\u901a\u8cc7\u6599\u4f86\u6e90")+" ".concat(!0===V?"DEBUG":""),secondary:de("\u8cc7\u6599\u4e00\u7dda\u901a")+"  https://data.gov.hk"})]})]}),(0,Y.jsx)(j.Z,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:Q,message:de("\u8cc7\u6599\u66f4\u65b0\u4e2d")+"..."}),(0,Y.jsx)(j.Z,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:ne,autoHideDuration:1500,onClose:(e,s)=>{te(!1)},message:de("\u7121\u6cd5\u7372\u5f97\u5730\u7406\u4f4d\u7f6e\u5b9a\u4f4d\u529f\u80fd\u6b0a\u9650")}),(0,Y.jsx)(j.Z,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:re,autoHideDuration:1500,onClose:(e,s)=>{ae(!1)},message:de("\u93c8\u7d50\u5df2\u8907\u88fd\u5230\u526a\u8cbc\u7c3f")}),(0,Y.jsx)(X,{open:ie,handleClose:()=>oe(!1)}),(0,Y.jsx)(es,{open:le,onClose:()=>ce(!1)})]})},is={background:e=>"dark"===e.palette.mode?e.palette.background.default:"white",height:"calc(100vh - 120px)",overflowY:"scroll","& .MuiAvatar-colorDefault":{color:e=>"dark"===e.palette.mode?e.palette.background.default:"white"}},os={filter:e=>"dark"===e.palette.mode?"grayscale(100%) brightness(0.5)":"none"}}}]);